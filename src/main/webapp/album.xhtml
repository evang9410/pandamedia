<!--<?xml version="1.0" encoding="UTF-8"?>
<ui:composition template="/WEB-INF/templates/masterTemplate.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:b="http://bootsfaces.net/ui">
    <ui:define name="WindowTitle">
        #{albumBacking.album.title} | Pandamedia
    </ui:define>
    <ui:define name="css">
        <h:outputStylesheet name="album.css" library="css"/>
        <h:outputStylesheet library="webjars" name="font-awesome/4.7.0/css/font-awesome-jsf.css" />
    </ui:define>
    <ui:define name="page-content">
        <h:body class = "bodyClass">

            
                <div class="container" id="album-info">
                    <div class="row" style="margin: 2% 0 3%;">
                        <div class="track-info-wrapper">
                            <div class="col-md-4 col-sm-12" id="album-art" style="width: 250px; padding: 0; margin-right: 2%">
                                <img class="albumArt" src="#{request.contextPath}/resources/coverart/#{albumBacking.album.coverArtId.imagePath}" style="width: 250px; height: 250px"/>
                            </div>
                            <div class="col-md-6 col-sm-12" id="info-track">
                                <h2>#{albumBacking.album.title}</h2>
                                
                                <h3><h:commandLink action="#{artistBacking.artistPage(albumBacking.album.artistId)}">#{albumBacking.album.artistId.name}</h:commandLink></h3>
                               
                                <h4>
                                    <h:outputText value="#{albumBacking.album.releaseDate.time}">
                                        <f:convertDateTime pattern="yyyy"/>
                                    </h:outputText>
                                </h4>
                                
                                
                                <h5>
                            <h:form>
                                <b:commandButton ajax="false" icon-awesome="cart-plus" iconAlign="right" value=""
                                                 look="success" action="#{cart.addAlbum(albumBacking.album)}">
                                    <h:outputText value="#{albumBacking.album.listPrice - albumBacking.album.salePrice}">
                                        <f:convertNumber minFractionDigits="2"/>
                                    </h:outputText>
                                </b:commandButton>
                            </h:form>
                                </h5>
                                
                            </div>
                        </div>
                    </div>
                </div>
            





            <div class="container">
                <div class="row" id="alb-header">
                    <div class="col-md-3 col-md-offset-4 alb-art">
                        <img class="albumArt" src="resources/coverart/#{albumBacking.album.coverArtId.imagePath}" style="height: 250px; width: 250px;"/>
                    </div>
                    <div class="col-md-3 album-info">
                        <h1>#{albumBacking.album.title}</h1>
                        <h3>#{albumBacking.album.artistId.name}, 
                            <h:outputText value="#{albumBacking.album.releaseDate.time}">
                                <f:convertDateTime pattern="yyyy"/>
                            </h:outputText>
                        </h3>
                        <h5>#{albumBacking.album.recordingLabelId.name}</h5>
                        <div>
                            <h:form>
                                <b:commandButton ajax="false" icon-awesome="cart-plus" iconAlign="right" value=""
                                                 look="success" action="#{cart.addAlbum(albumBacking.album)}">
                                    <h:outputText value="#{albumBacking.album.listPrice - albumBacking.album.salePrice}">
                                        <f:convertNumber minFractionDigits="2"/>
                                    </h:outputText>
                                </b:commandButton>
                            </h:form>
                        </div>
                    </div>
                </div>  
            </div>



            <div class="container">
                <div class="row">
                    <div class="col-md-6 col-md-offset-3" id="table-row" style="margin-left: 0; width: 70%;">
                        <table class="table table-inverse track_list">
                            <thead style="border: none;">
                                <tr>
                                    <th>#</th>
                                    <th style="text-align: left;">Tracks</th>
                                    <th style="text-align: left;"><i class="fa fa-circle-o-notch" aria-hidden="true"></i></th>
                                    <th style="text-align: right;"><i class="fa fa-shopping-cart" aria-hidden="true"></i></th>
                                </tr>
                            </thead>
                            <tbody class="scrollbar" id="style-1">
                                <ui:repeat value="#{albumBacking.album.trackList}" var="tracks">
                                    <tr class="table-row">
                                        <th scope="row"><h6>#{tracks.albumTrackNumber}</h6></th>
                                        <td>
                                            <h:form>
                                                <h:commandLink action="#{trackBacking.trackPage(tracks)}">
                                                    <h6>#{tracks.title}</h6>
                                                </h:commandLink>                 
                                            </h:form>    
                                        </td>                            
                                        <td><h6>#{tracks.playLength}</h6></td>
                                        <td width="50">
                                            <h:form>
                                                <b:commandButton ajax="false" icon-awesome="cart-plus" iconAlign="right" value="#{tracks.listPrice}" look="primary" 
                                                                 action="#{cart.addTrack(tracks)}">
                                                                                                        <f:ajax render="j_idt15:shopping-cart-count"/>
                                                </b:commandButton>

                                            </h:form>
                                        </td>
                                    </tr>

                                </ui:repeat>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="row">
                    <h2 id="suggested-header">Suggested Albums</h2>
                </div>
                <div class="row">
                    <ui:repeat value="#{albumBacking.getSuggestedAlbums(albumBacking.album.genreId.name)}" var="suggested">
                        <div class="col-md-2">
                            <h:form>
                                <h:commandLink action="#{albumBacking.albumPage(suggested)}">
                                    <img src="#{request.contextPath}/resources/coverart/#{suggested.coverArtId.imagePath}" style="width:150px; height: 150px;"/>
                                    <h4 id="suggested-title">#{suggested.title}</h4>
                                </h:commandLink>
                            </h:form>
                        </div>
                    </ui:repeat>
                </div>
            </div>
        </h:body>
    </ui:define>
</ui:composition>-->
        
<ui:composition template="/WEB-INF/templates/masterTemplate.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:b="http://bootsfaces.net/ui">
    <ui:define name="WindowTitle">
        #{albumBacking.album.title} | Pandamedia
    </ui:define>
    <ui:define name="css">
        <h:outputStylesheet name="album.css" library="css"/>
        <h:outputStylesheet library="webjars" name="font-awesome/4.7.0/css/font-awesome-jsf.css" />
    </ui:define>
    <ui:define name="page-content">
        <h:body class = "bodyClass">
            <div class="container">
                <div class="row">
                    <div class="col-md-3 col-md-offset-4">
                        <img class="albumArt" src="resources/coverart/#{albumBacking.album.coverArtId.imagePath}" style="height: 250px; width: 250px;"/>
                    </div>
                    <div class="col-md-3 album-info">
                        <h1>#{albumBacking.album.title}</h1>
                        <h3>#{albumBacking.album.artistId.name}, 
                            <h:outputText value="#{albumBacking.album.releaseDate.time}">
                                <f:convertDateTime pattern="yyyy"/>
                            </h:outputText>
                        </h3>
                        <h5>#{albumBacking.album.recordingLabelId.name}</h5>
                        <div>
                            <h:form>
                                <b:commandButton ajax="false" icon-awesome="cart-plus" iconAlign="right" value=""
                                                 look="success" action="#{cart.addAlbum(albumBacking.album)}">
                                    <h:outputText value="#{albumBacking.album.listPrice - albumBacking.album.salePrice}">
                                        <f:convertNumber minFractionDigits="2"/>
                                    </h:outputText>

<!--                                    <f:ajax render="j_idt15:shopping-cart-count"/>-->
                                </b:commandButton>
                            </h:form>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <hr style="width:75%"/>
                </div>

                <div class="row">
                    <div class="col-md-6 col-md-offset-3">
                        <table class="table table-inverse track_list" style="background-color: black; border: 2px solid lightgray;">
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>#{msgs.songCAPS}</th>
                                    <th style="text-align: left;"><i class="fa fa-circle-o-notch" aria-hidden="true"></i></th>
                                    <th style="text-align: right;"><i class="fa fa-shopping-cart" aria-hidden="true"></i></th>
                                    <th></th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody class="scrollbar" id="style-1">
                                <ui:repeat value="#{albumBacking.album.trackList}" var="tracks">
                                    <tr>
                                        <th scope="row">#{tracks.albumTrackNumber}</th>
                                        <td>
                                            <h:form>
                                                <h:commandLink action="#{trackBacking.trackPage(tracks)}">
                                                    #{tracks.title}
                                                </h:commandLink>                               
                                            </h:form>    
                                        </td>                            
                                        <td>#{tracks.playLength}</td>
                                        <td width="50">
                                            <h:form>
                                                <b:commandButton ajax="false" icon-awesome="cart-plus" iconAlign="right" value="#{tracks.listPrice}" look="primary" 
                                                                 action="#{cart.addTrack(tracks)}">
<!--                                                    <f:ajax render="j_idt15:shopping-cart-count"/>-->
                                                </b:commandButton>

                                            </h:form>
                                        </td>
                                    </tr>
                                </ui:repeat>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="row">
                    <h2 id="suggested-header">Suggested Albums</h2>
                </div>
                <div class="row">
                    <ui:repeat value="#{albumBacking.getSuggestedAlbums(albumBacking.album.genreId.name)}" var="suggested">
                        <div class="col-md-2">
                            <h:form>
                                <h:commandLink action="#{albumBacking.albumPage(suggested)}">
                                    <img src="resources/coverart/#{suggested.coverArtId.imagePath}" style="width:150px; height: 150px;"/>
                                    <h4 id="suggested-title">#{suggested.title}</h4>
                                </h:commandLink>
                            </h:form>

                        </div>
                    </ui:repeat>
                </div>
            </div>
        </h:body>
    </ui:define>
</ui:composition>

