<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>Inventory</title>
        <h:outputStylesheet name="css/bootstrap.css"/>
        <h:outputStylesheet library="css" name="style.css"/>
    </h:head>
    <h:body styleClass="bodyClass">
        <b:navBar brand="PandaMedia" brandHref="manager_index.xhtml" styleClass="navbar navbar-default pandaNavbar">
            <b:navbarLinks pull="right">
                <b:navLink value="Sales" href="salesPage.xhtml"></b:navLink>
                <b:navLink value="Clients" href="clients.xhtml"></b:navLink>
                <b:navLink value="Orders" href="orders.xhtml"></b:navLink>
                <b:navLink value="Reviews" href="reviews.xhtml"></b:navLink>
                <b:navLink value="Reporting" href="reporting.xhtml"></b:navLink>
            </b:navbarLinks>
        </b:navBar> 
        

        <f:view>

            <h:outputLink value="AlbumFunctionality/addAlbum.xhtml">Create Album</h:outputLink>
            <br/>
            <h:outputLink value="TrackFunctionality/addTrack.xhtml">Create Track</h:outputLink>



            <h:form>
                <h1><h:outputText value="Albums"/></h1>
                <p:dataTable value="#{albumBacking.all}" widgetVar="albumTable" filteredValue="#{albumBacking.filteredAlbums}"  var="item" paginator="true" rows="5">
                    <f:facet name="header">
                        <p:outputPanel>
                            <h:outputText value="Search all fields:" />
                            <p:inputText id="globalFilter" onkeyup="PF('carsTable').filter()" style="width:150px" placeholder="Enter keyword"/>
                        </p:outputPanel>
                    </f:facet>
                    <p:column filterBy="#{albumBacking.album.id}" headerText="ID" filterMatchMode="contains">
                        <h:outputText value="#{item.id}"/>
                    </p:column>
                    <p:column filterBy="#{albumBacking.album.title}" headerText="Title" filterMatchMode="contains">
                        <h:outputText value="#{item.title}"/>
                    </p:column>
                    <p:column filterBy="#{albumBacking.album.releaseDate}" headerText="ReleaseDate" filterMatchMode="contains">
                        <h:outputText value="#{item.releaseDate}">
                            <f:convertDateTime pattern="MM/dd/yyyy" />
                        </h:outputText>
                    </p:column>
                    <p:column filterBy="#{albumBacking.album.numTracks}" headerText="NumTracks" filterMatchMode="contains">
                        <h:outputText value="#{item.numTracks}"/>
                    </p:column>
                    <p:column filterBy="#{albumBacking.album.dateEntered}" headerText="DateEntered" filterMatchMode="contains">
                        <h:outputText value="#{item.dateEntered}">
                            <f:convertDateTime pattern="MM/dd/yyyy" />
                        </h:outputText>
                    </p:column>
                    <p:column filterBy="#{albumBacking.album.costPrice}" headerText="CostPrice" filterMatchMode="contains">
                        <h:outputText value="#{item.costPrice}"/>
                    </p:column>
                    <p:column filterBy="#{albumBacking.album.listPrice}" headerText="ListPrice" filterMatchMode="contains">
                        <h:outputText value="#{item.listPrice}"/>
                    </p:column>
                    <p:column filterBy="#{albumBacking.album.salePrice}" headerText="SalePrice" filterMatchMode="contains">
                        <h:outputText value="#{item.salePrice}"/>
                    </p:column>
                    <p:column filterBy="#{albumBacking.album.removalStatus}" headerText="RemovalStatus" filterMatchMode="contains">
                        <h:outputText value="#{item.removalStatus}"/>
                    </p:column>
                    <p:column filterBy="#{albumBacking.album.removalDate}" headerText="RemovalDate" filterMatchMode="contains">
                        <h:outputText value="#{item.removalDate}">
                            <f:convertDateTime pattern="MM/dd/yyyy" />
                        </h:outputText>
                    </p:column>
                    <p:column filterBy="#{albumBacking.album.artistId}" headerText="ArtistID" filterMatchMode="contains">
                        <h:outputText value="#{item.artistId.name}"/>
                    </p:column>
                    <p:column filterBy="#{albumBacking.album.genreId}" headerText="GenreID" filterMatchMode="contains">
                        <h:outputText value="#{item.genreId.name}"/>
                    </p:column>
                    <p:column filterBy="#{albumBacking.album.recordingLabelId}" headerText="RecordingLabID" filterMatchMode="contains">
                        <h:outputText value="#{item.recordingLabelId.name}"/>
                    </p:column>
                    <p:column filterBy="#{albumBacking.album.coverArtId}" headerText="CoverArtID" filterMatchMode="contains">
                        <h:outputText value="#{item.coverArtId.imagePath}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="Options"/>
                        </f:facet>
                        <h:commandButton  value="Edit" action="#{albumBacking.loadEditForIndex(item.id)}" />
                        <h:commandButton value="Add" action="#{albumBacking.addItem(item.id)}" />
                        <h:commandButton  value="Delete" action="#{albumBacking.removeItem(item.id)}" />
                    </p:column>
                </p:dataTable>
            </h:form>


            <h:form>
                <h1><h:outputText value="Tracks"/></h1>
                <p:dataTable value="#{trackBacking.all}" var="item" paginator="true" rows="5">
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="Id"/>
                        </f:facet>
                        <h:outputText value="#{item.id}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="Title"/>
                        </f:facet>
                        <h:outputText value="#{item.title}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="ReleaseDate"/>
                        </f:facet>
                        <h:outputText value="#{item.releaseDate}">
                            <f:convertDateTime pattern="MM/dd/yyyy" />
                        </h:outputText>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="PlayLength"/>
                        </f:facet>
                        <h:outputText value="#{item.playLength}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="AlbumTrackNumber"/>
                        </f:facet>
                        <h:outputText value="#{item.albumTrackNumber}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="DateEntered"/>
                        </f:facet>
                        <h:outputText value="#{item.dateEntered}">
                            <f:convertDateTime pattern="MM/dd/yyyy" />
                        </h:outputText>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="PartOfAlbum"/>
                        </f:facet>
                        <h:outputText value="#{item.partOfAlbum}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="CostPrice"/>
                        </f:facet>
                        <h:outputText value="#{item.costPrice}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="ListPrice"/>
                        </f:facet>
                        <h:outputText value="#{item.listPrice}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="SalePrice"/>
                        </f:facet>
                        <h:outputText value="#{item.salePrice}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="RemovalStatus"/>
                        </f:facet>
                        <h:outputText value="#{item.removalStatus}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="RemovalDate"/>
                        </f:facet>
                        <h:outputText value="#{item.removalDate}">
                            <f:convertDateTime pattern="MM/dd/yyyy" />
                        </h:outputText>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="AlbumId"/>
                        </f:facet>
                        <h:outputText value="#{item.albumId.title}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="ArtistId"/>
                        </f:facet>
                        <h:outputText value="#{item.artistId.name}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="SongwriterId"/>
                        </f:facet>
                        <h:outputText value="#{item.songwriterId.name}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="GenreId"/>
                        </f:facet>
                        <h:outputText value="#{item.genreId.name}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="CoverArtId"/>
                        </f:facet>
                        <h:outputText value="#{item.coverArtId.imagePath}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="Options"/>
                        </f:facet>
                        <h:outputLink value="TrackFunctionality/editTrack.xhtml">Edit</h:outputLink>
                        <h:commandButton  value="Add" action="#{trackBacking.addItem(item.id)}" />
                        <h:commandButton  value="Delete" action="#{trackBacking.removeItem(item.id)}" />
                    </p:column>
                </p:dataTable>
            </h:form>


        </f:view>

    </h:body>

</html>
